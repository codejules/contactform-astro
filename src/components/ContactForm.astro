---
---

<form
    id="contact-form"
    class="max-w-md mx-auto mt-8 p-6 bg-white rounded-lg shadow-md"
>
    <div class="mb-4">
        <label for="name" class="block text-gray-700 text-sm font-bold mb-2"
            >Nombre:</label
        >
        <input
            type="text"
            id="name"
            name="name"
            required
            class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:border-blue-500"
        />
    </div>
    <div class="mb-4">
        <label for="email" class="block text-gray-700 text-sm font-bold mb-2"
            >Email:</label
        >
        <input
            type="email"
            id="email"
            name="email"
            required
            class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:border-blue-500"
        />
    </div>
    <div class="mb-4">
        <label for="message" class="block text-gray-700 text-sm font-bold mb-2"
            >Mensaje:</label
        >
        <textarea
            id="message"
            name="message"
            required
            class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:border-blue-500"
            rows="4"></textarea>
    </div>
    <div class="mb-4">
        <label for="file" class="block text-gray-700 text-sm font-bold mb-2"
            >Adjuntar archivo:</label
        >
        <input
            type="file"
            id="file"
            name="file"
            class="w-full px-3 py-2 text-gray-700 border rounded-lg focus:outline-none focus:border-blue-500"
        />
    </div>
    <button
        type="submit"
        class="w-full bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:shadow-outline"
    >
        Enviar
    </button>
</form>

<script>
    const form = document.getElementById("contact-form") as HTMLFormElement;
    if (form) {
        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            const formData = new FormData(form);

            try {
                const response = await fetch("/api/submit-form", {
                    method: "POST",
                    body: formData,
                });

                if (response.ok) {
                    alert("Formulario enviado con Ã©xito!");
                    form.reset();
                } else {
                    alert(
                        "Error al enviar el formulario. Por favor, intente de nuevo.",
                    );
                }
            } catch (error) {
                console.error("Error:", error);
                alert(
                    "Error al enviar el formulario. Por favor, intente de nuevo.",
                );
            }
        });
    }
</script>
